(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a(18)},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),i=a.n(r),l=a(10),s=a(1),o=a(2),m=a(4),u=a(3),v=a(5),d=a(9),p=a.n(d),h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).state={willWatch:!1},a}return Object(v.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.deleteMovie,r=t.addMovieToWillWatch,i=t.deleteMovieFromWillWatch;return c.a.createElement("div",{className:"card"},c.a.createElement("img",{className:"card-img-top",src:null===a.backdrop_path||null===a.poster_path?p.a:"https://image.tmdb.org/t/p/w500".concat(a.backdrop_path||a.poster_path),alt:""}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h6",{className:"card-title"},a.title),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("p",{className:"mb-0"},"Rating: ",a.vote_average)),c.a.createElement("div",{className:"d-flex justify-content-between mt-1"},c.a.createElement("button",{className:"btn btn-warning",type:"button",onClick:function(){n(a)}},"Delete"),this.state.willWatch?c.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),i(a)}},"Will Watch"):c.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.setState({willWatch:!0}),r(a)}},"Will Watch"))))}}]),t}(c.a.Component),E="https://api.themoviedb.org/3",b="3f4ca4f3a9750da53450646ced312397",f=a(6),g=a.n(f),y=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.sort_by,a=e.updateSortBy,n=function(e){return function(){a(e)}},r=function(e){return g()("nav-link",{"bg-dark active":t===e})};return c.a.createElement("ul",{className:"tabs nav nav-pills"},c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:r("popularity.desc"),onClick:n("popularity.desc")},"Popularity desc")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:r("revenue.desc"),onClick:n("revenue.desc")},"Revenue desk")),c.a.createElement("li",{className:"nav-item"},c.a.createElement("div",{className:r("vote_average.desc"),onClick:n("vote_average.desc")},"Vote average desk")))}}]),t}(c.a.Component),W=function(e){var t=e.currentPage,a=e.totalPages,n=e.changeCurrentPage,r=Array.from(Array(a),function(e,t){return t+1}).map(function(e){var r=g()("",{active:t===e});if(1===e||e===a||e>=t-2&&e<=t+2)return c.a.createElement("span",{key:e,className:r,onClick:function(){return n(e)}},e)});return c.a.createElement("div",{className:"pagination mb-3"},c.a.createElement("span",{onClick:function(){return n(t-1)}},"\xab"),r,c.a.createElement("span",{onClick:function(){return n(t+1)}},"\xbb"))},N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(u.a)(t).call(this))).getMovies=function(){fetch("".concat(E,"/discover/movie?api_key=").concat(b,"&sort_by=").concat(e.state.sort_by,"&page=").concat(e.state.currentPage)).then(function(e){return e.json()}).then(function(t){e.setState({movies:t.results,totalPages:t.total_pages})})},e.deleteMovie=function(t){var a=e.state.movies.filter(function(e){return e.id!==t.id});e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=Object(l.a)(e.state.moviesWillWatch);a.push(t),e.setState({moviesWillWatch:a})},e.deleteMovieFromWillWatch=function(t){var a=e.state.moviesWillWatch.filter(function(e){return e.id!==t.id});e.setState({moviesWillWatch:a})},e.updateSortBy=function(t){e.setState({sort_by:t,currentPage:1})},e.changeCurrentPage=function(t){t>0&&e.setState({currentPage:t})},e.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc",currentPage:1,totalPages:0},e}return Object(v.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getMovies()}},{key:"componentDidUpdate",value:function(e,t){return(t.sort_by!==this.state.sort_by||t.currentPage!==this.state.currentPage)&&this.getMovies()}},{key:"render",value:function(){var e=this;return this.state.isLoading?c.a.createElement("p",null,"Loading ..."):c.a.createElement("div",{className:"container-fluid p-0"},c.a.createElement("div",{className:"navbar navbar-dark bg-dark"},c.a.createElement("div",{className:"container-fluid justify-content-md-center"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement("strong",null,"What 2 Watch")))),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row mt-4"},c.a.createElement("div",{className:"col-md-9"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12 mb-4"},c.a.createElement(y,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy}))),c.a.createElement("div",{className:"row"},this.state.movies.map(function(t){return c.a.createElement("div",{className:"col-md-6 col-lg-4 mb-4",key:t.id},c.a.createElement(h,{data:t,deleteMovie:e.deleteMovie,addMovieToWillWatch:e.addMovieToWillWatch,deleteMovieFromWillWatch:e.deleteMovieFromWillWatch}))})),c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement(W,{currentPage:this.state.currentPage,totalPages:this.state.totalPages,changeCurrentPage:this.changeCurrentPage}))),c.a.createElement("div",{className:"col-md-3"},c.a.createElement("h4",{className:"text-center border border-dark rounded p-1"},"Will Watch: ",this.state.moviesWillWatch.length," movies"),c.a.createElement("ul",{className:"list-group"},this.state.moviesWillWatch.map(function(e){return c.a.createElement("li",{key:e.id,className:"list-group-item"},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("p",null,e.title),c.a.createElement("p",null,e.vote_average)))}))))))}}]),t}(c.a.Component);a(16),a(17);i.a.render(c.a.createElement(N,null),document.getElementById("root"))},9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACqBAMAAAA5NBsAAAAAHlBMVEX///+5ubnKysrT09PFxcXb29v4+Pjm5ubx8fG/v79jhCz7AAACiUlEQVR42u3bS2sTURjG8ZfUmZztkws2u7TCAXcGsXRpRFx3pN52gxa1u4qXxl0UN1mOC/XjGuPMScZDWnKwJ+/Q5/cJ/jxvAiHJCBEREREREREREREREZFe5v3+pm5NJLJ0hAAHEtc3hOhNJSZTIMgviekEYXq5RJQh0JHEkxYI9EPiaf853pNNHQO4KfG0g1ZJi7iVOwCGsrE9oCvrsZKVrFRZ+XaSq680x8D3p8or0xeYGxzprvyKhW6uudJ97BhqrnyFUl9z5TtUpnor0zEqQ72VbTi7eit34PT1Vt6A0xXPa32VHflXup/rqDy9qPIlrI7Kiy6e7qGTq6hswen7UwJWRWUCZ9efEvMxNVSaApVH/pRzVkOlZKic+VMuxtRQeYJSx59ywWqoNO7g/pTlmAoq5UMZM/WmLFkNlebvaAf+lG5MBZXSvg0MDsWb0rEaKiX9+OyT+FOujKmh8tKfBqzOSlMA3phbqrwv68xQZzVWuim9MSNXtvxKf8olq2/LasramOoqZ/BZJRfPa1P6Y6rYMrG1KT1WRWXWyWtT+mMquHgC2NqUHqtgy6xcy03p6Wy/MnFrzbBOvvWLZ9VLz4w1Vda3TNxLbwa9lVn1PjaFqsraxROU7AyqKmtbZij1xnorEyzpqly9eKa2cmXLBE2ozPRWLi+eQG/lcsusCZUJFFe6i2eaK6stEzSh8ovqylYjKpuxZTMqefHrVsmLX7fKZl38zfnlJgvn2/8GRun/L1uNqGzGls2o5MX/nyTogSJTxH/aY3B3E/e28EyKQROe75ERAt2RiE4RZpBLRO0CQX5KVJ/DpjyTqMwIAQ4lMvP44aYePBciIiIiIiIiIiIiIrpyvwGPXU9VynS3IQAAAABJRU5ErkJggg=="}},[[11,1,2]]]);
//# sourceMappingURL=main.45b0652b.chunk.js.map