{"version":3,"sources":["components/MovieItem.jsx","utils/api.js","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","index.js","img/defImage.png"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","backdrop_path","poster_path","ImgDef","concat","alt","title","vote_average","type","onClick","setState","React","Component","API_URL","API_KEY_3","MovieTabs","sort_by","updateSortBy","handleSortBy","value","getClassLink","cn","bg-dark active","Pagination","currentPage","totalPages","changeCurrentPage","renderPageNumbers","Array","from","x","index","map","setClassName","active","key","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","then","response","json","movies","results","total_pages","movie","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","isLoading","components_MovieTabs","components_MovieItem","components_Pagination","length","ReactDOM","render","components_App","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.45b0652b.chunk.js","sourcesContent":["import React from \"react\";\n// import ImgDef from \"./default-image.png\";\nimport ImgDef from \"../img/defImage.png\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={data.backdrop_path === null || data.poster_path === null ? ImgDef : `https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n          data.poster_path}`}\n          // src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n          //   data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n          </div>\n          <div className=\"d-flex justify-content-between mt-1\">\n          <button\n          className=\"btn btn-warning\"\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n          {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\r\nimport cn from 'classnames';\r\n\r\nclass MovieTabs extends React.Component {\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleSortBy = value => {\r\n      return () => {\r\n        updateSortBy(value);\r\n      }; \r\n    };\r\n\r\n    const getClassLink = value => {\r\n      return cn('nav-link', {\"bg-dark active\" : sort_by === value});\r\n      // return `nav-link ${sort_by === value ? \"active\" : \"\"}`;\r\n    };\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleSortBy(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleSortBy(\"revenue.desc\")}\r\n          >\r\n            Revenue desk\r\n          </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div\r\n            className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleSortBy(\"vote_average.desc\")}\r\n          >\r\n            Vote average desk\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieTabs;\r\n","import React from 'react';\r\nimport cn from 'classnames';\r\n\r\nconst Pagination = props => {\r\n    const { currentPage, totalPages, changeCurrentPage } = props;\r\n    const pageNumbers = Array.from(Array(totalPages), (x, index) => index + 1);\r\n    const renderPageNumbers = pageNumbers.map(value => {\r\n      const setClassName = cn(\"\", {\"active\" : currentPage === value});\r\n    //   `${currentPage === value ? 'active' : ''}`;\r\n      if (\r\n        value === 1 ||\r\n        value === totalPages ||\r\n        (value >= currentPage - 2 && value <= currentPage + 2)\r\n      ) {\r\n        return (\r\n          <span\r\n            key={value}\r\n            className={setClassName}\r\n            onClick={() => changeCurrentPage(value)}\r\n          >\r\n            {value}\r\n          </span>\r\n        );\r\n      }\r\n    });\r\n  \r\n    return (\r\n      <div className=\"pagination mb-3\">\r\n        <span onClick={() => changeCurrentPage(currentPage - 1)}>&laquo;</span>\r\n        {renderPageNumbers}\r\n        <span onClick={() => changeCurrentPage(currentPage + 1)}>&raquo;</span>\r\n      </div>\r\n    );\r\n  };\r\n  export default Pagination; ","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from \"../utils/api\";\nimport MovieTabs from \"../components/MovieTabs\";\nimport Pagination from \"../components/Pagination\";\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"popularity.desc\",\n      currentPage: 1,\n      totalPages: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    return (prevState.sort_by !== this.state.sort_by ||\n      prevState.currentPage !== this.state.currentPage\n      ? this.getMovies() : false);\n  }\n\n  getMovies = () => {\n    fetch(\n      `${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${\n        this.state.sort_by\n      }&page=${this.state.currentPage}`\n    )\n      .then(response => {\n        return response.json();\n      })\n      .then(data => {\n        this.setState({\n          movies: data.results,\n          // isLoading: false,\n          totalPages: data.total_pages\n        });\n      });\n  };\n\n  deleteMovie = movie => {\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value,\n      currentPage: 1\n    });\n  };\n\n  changeCurrentPage = value => {\n    if (value > 0) {\n      this.setState({\n        currentPage: value,\n      });\n    }\n  };\n\n  render() {\n    if (this.state.isLoading) {\n      return <p>Loading ...</p>;\n    }\n    return (\n      <div className=\"container-fluid p-0\">\n        <div className=\"navbar navbar-dark bg-dark\">\n          <div className=\"container-fluid justify-content-md-center\">\n            <div className=\"navbar-brand\">\n              <strong>What 2 Watch</strong>\n            </div>\n          </div>\n        </div>\n        <div className=\"container\">\n          <div className=\"row mt-4\">\n            <div className=\"col-md-9\">\n              <div className=\"row\">\n                <div className=\"col-md-12 mb-4\">\n                  <MovieTabs\n                    sort_by={this.state.sort_by}\n                    updateSortBy={this.updateSortBy}\n                  />\n                </div>\n              </div>\n              <div className=\"row\">\n                {this.state.movies.map(movie => {\n                  return (\n                    <div className=\"col-md-6 col-lg-4 mb-4\" key={movie.id}>\n                      <MovieItem\n                        data={movie}\n                        deleteMovie={this.deleteMovie}\n                        addMovieToWillWatch={this.addMovieToWillWatch}\n                        deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                      />\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"row justify-content-center\">\n                <Pagination\n                  currentPage={this.state.currentPage}\n                  totalPages={this.state.totalPages}\n                  changeCurrentPage={this.changeCurrentPage}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-3\">\n              <h4 className=\"text-center border border-dark rounded p-1\">Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n              <ul className=\"list-group\">\n                {this.state.moviesWillWatch.map(movie => (\n                  <li key={movie.id} className=\"list-group-item\">\n                    <div className=\"d-flex justify-content-between\">\n                      <p>{movie.title}</p>\n                      <p>{movie.vote_average}</p>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUoAAACqBAMAAAA5NBsAAAAAHlBMVEX///+5ubnKysrT09PFxcXb29v4+Pjm5ubx8fG/v79jhCz7AAACiUlEQVR42u3bS2sTURjG8ZfUmZztkws2u7TCAXcGsXRpRFx3pN52gxa1u4qXxl0UN1mOC/XjGuPMScZDWnKwJ+/Q5/cJ/jxvAiHJCBEREREREREREREREZFe5v3+pm5NJLJ0hAAHEtc3hOhNJSZTIMgviekEYXq5RJQh0JHEkxYI9EPiaf853pNNHQO4KfG0g1ZJi7iVOwCGsrE9oCvrsZKVrFRZ+XaSq680x8D3p8or0xeYGxzprvyKhW6uudJ97BhqrnyFUl9z5TtUpnor0zEqQ72VbTi7eit34PT1Vt6A0xXPa32VHflXup/rqDy9qPIlrI7Kiy6e7qGTq6hswen7UwJWRWUCZ9efEvMxNVSaApVH/pRzVkOlZKic+VMuxtRQeYJSx59ywWqoNO7g/pTlmAoq5UMZM/WmLFkNlebvaAf+lG5MBZXSvg0MDsWb0rEaKiX9+OyT+FOujKmh8tKfBqzOSlMA3phbqrwv68xQZzVWuim9MSNXtvxKf8olq2/LasramOoqZ/BZJRfPa1P6Y6rYMrG1KT1WRWXWyWtT+mMquHgC2NqUHqtgy6xcy03p6Wy/MnFrzbBOvvWLZ9VLz4w1Vda3TNxLbwa9lVn1PjaFqsraxROU7AyqKmtbZij1xnorEyzpqly9eKa2cmXLBE2ozPRWLi+eQG/lcsusCZUJFFe6i2eaK6stEzSh8ovqylYjKpuxZTMqefHrVsmLX7fKZl38zfnlJgvn2/8GRun/L1uNqGzGls2o5MX/nyTogSJTxH/aY3B3E/e28EyKQROe75ERAt2RiE4RZpBLRO0CQX5KVJ/DpjyTqMwIAQ4lMvP44aYePBciIiIiIiIiIiIiIrpyvwGPXU9VynS3IQAAAABJRU5ErkJggg==\""],"sourceRoot":""}